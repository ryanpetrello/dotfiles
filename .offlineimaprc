[general]
ui = ttyui
accounts = Ryan,RH
pythonfile=~/.mutt/idle.py
fsync = False
keepalive = 60

[Account Ryan]
localrepository = Ryan-Local
remoterepository = Ryan-Remote
status_backend = sqlite

[Account DC]
localrepository = DC-Local
remoterepository = DC-Remote
status_backend = sqlite

[Account DC-Error]
localrepository = DC-Error-Local
remoterepository = DC-Error-Remote
status_backend = sqlite

[Account RH]
localrepository = RH-Local
remoterepository = RH-Remote
status_backend = sqlite

[Repository Ryan-Local]
type = Maildir
localfolders = ~/.mail/ryanpetrello.com
nametrans = lambda folder: {'drafts'        : 'Drafts',
                            'sent'          : 'Sent',
                            'spam'          : 'Spam',
                            'archive'       : 'Archive',
                            'trash'         : 'Trash',
                           }.get(folder, folder)

[Repository Ryan-Remote]
maxconnections = 3
type = IMAP
remotehost = mail.messagingengine.com
remoteuser = ryan@ryanpetrello.com
sslcacertfile = /usr/local/opt/curl-ca-bundle/share/ca-bundle.crt
remoteuser = ryan@ryanpetrello.com
remotepasseval = get_keychain_pass(account='ryan@ryanpetrello.com', server='imap.fastmail.com')
realdelete = no
nametrans = lambda folder: {'Drafts'           : 'drafts',
                            'Sent'             : 'sent',
                            'Spam'             : 'spam',
                            'Archive'          : 'archive',
                            'Trash'            : 'trash',
                            'pecan'            : 'pecan',
                            'openstack-dev'    : 'openstack-dev',
                            'openstack-reviews': 'openstack-reviews'
                           }.get(folder, folder)
folderfilter = lambda folder: not folder.startswith('RESTORED.')

[Repository DC-Local]
type = Maildir
localfolders = ~/.mail/draughtcraft.com
nametrans = lambda folder: {'drafts'        : '[Gmail]/Drafts',
                            'sent'          : '[Gmail]/Sent Mail',
                            'starred'       : '[Gmail]/Starred',
                            'trash'         : '[Gmail]/Trash',
                            'archive'       : '[Gmail]/All Mail',
                           }.get(folder, folder)

folderfilter = lambda folder: (folder not in ['[Gmail]/Trash',
                                             '[Gmail]/Important',
                                             '[Gmail]/Spam',
                                             '[Mailbox]'
                                            ]) and 'Airmail' not in folder

[Repository DC-Remote]
maxconnections = 3
type = Gmail
sslcacertfile = /usr/local/opt/curl-ca-bundle/share/ca-bundle.crt
remoteuser = ryan@draughtcraft.com
remotepasseval = get_keychain_pass(account='ryan@draughtcraft.com')
realdelete = no
nametrans = lambda folder: {'[Gmail]/Drafts'                    : 'drafts',
                            '[Gmail]/Sent Mail'                 : 'sent',
                            '[Gmail]/Starred'                   : 'starred',
                            '[Gmail]/Trash'                     : 'trash',
                            '[Gmail]/All Mail'                  : 'archive',
                           }.get(folder, folder)
folderfilter = lambda folder: (folder not in ['Drafts',
                                              'Sent',
                                              '[Gmail]/Trash',
                                              '[Gmail]/Important',
                                              '[Gmail]/Spam',
                                              '[Mailbox]'
                                            ]) and not '[Airmail]' in folder

[Repository RH-Local]
type = Maildir
localfolders = ~/.mail/redhat.com
nametrans = lambda folder: {'drafts'        : 'Drafts',
                            'sent'          : 'Sent Mail',
                            'starred'       : 'Starred',
                            'trash'         : 'Trash',
                           }.get(folder, folder)

folderfilter = lambda folder: (folder not in ['Trash',
                                             'Spam',
                                            ])

[Repository RH-Remote]
maxconnections = 3
type = Gmail
sslcacertfile = /usr/local/opt/curl-ca-bundle/share/ca-bundle.crt
remoteuser = rpetrell@redhat.com
remotepasseval = get_keychain_pass(account='rpetrell@redhat.com')
realdelete = no
nametrans = lambda folder: {'Drafts'                    : 'drafts',
                            'Sent Mail'                 : 'sent',
                            'Starred'                   : 'starred',
                            'Trash'                     : 'trash',
                            'announce'                  : 'announce',
                            'memo'                      : 'memo',
                            'tower'                     : 'tower',
                           }.get(folder, folder)
folderfilter = lambda folder: (folder not in ['Drafts',
                                              'Sent',
                                              'Trash',
                                              'Spam',
                                            ])

[Repository DC-Error-Local]
type = Maildir
localfolders = ~/.mail/draughtcraft-errors.com
nametrans = lambda folder: {'drafts'        : '[Gmail]/Drafts',
                            'sent'          : '[Gmail]/Sent Mail',
                            'starred'       : '[Gmail]/Starred',
                            'trash'         : '[Gmail]/Trash',
                            'archive'       : '[Gmail]/All Mail',
                           }.get(folder, folder)

folderfilter = lambda folder: (folder not in ['[Gmail]/Trash',
                                             '[Gmail]/Important',
                                             '[Gmail]/Spam',
                                             '[Mailbox]'
                                            ]) and 'Airmail' not in folder

[Repository DC-Error-Remote]
maxconnections = 3
type = Gmail
sslcacertfile = /usr/local/opt/curl-ca-bundle/share/ca-bundle.crt
remoteuser = errors@draughtcraft.com
remotepasseval = get_keychain_pass(account='errors@draughtcraft.com')
realdelete = no
nametrans = lambda folder: {'[Gmail]/Drafts'                    : 'drafts',
                            '[Gmail]/Sent Mail'                 : 'sent',
                            '[Gmail]/Starred'                   : 'starred',
                            '[Gmail]/Trash'                     : 'trash',
                            '[Gmail]/All Mail'                  : 'archive',
                           }.get(folder, folder)
folderfilter = lambda folder: (folder not in ['Drafts',
                                              'Sent',
                                              '[Gmail]/Trash',
                                              '[Gmail]/Important',
                                              '[Gmail]/Spam',
                                              '[Mailbox]'
                                            ]) and not '[Airmail]' in folder

